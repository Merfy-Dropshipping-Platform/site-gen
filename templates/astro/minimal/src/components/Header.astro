---
interface Props {
  siteTitle?: string;
  navigationLinks?: Array<{ label: string; href: string }>;
  showSearch?: boolean;
  showCart?: boolean;
}

const {
  siteTitle = 'Store',
  navigationLinks = [
    { label: 'Catalog', href: '/catalog' },
    { label: 'About', href: '/about' },
    { label: 'Contact', href: '/contact' },
  ],
  showSearch = true,
  showCart = true,
} = Astro.props;
---

<header class="w-full border-b border-theme sticky top-0 z-50 bg-theme-background">
  <nav class="page-container flex items-center justify-between h-16">
    <!-- Logo / Site Title -->
    <a href="/" class="text-lg font-semibold text-theme-foreground hover:opacity-80 transition-opacity">
      {siteTitle}
    </a>

    <!-- Navigation -->
    <div class="hidden md:flex items-center gap-8">
      {navigationLinks.map((link) => (
        <a
          href={link.href}
          class="text-sm text-theme-muted hover:text-theme-foreground transition-colors"
        >
          {link.label}
        </a>
      ))}
    </div>

    <!-- Actions -->
    <div class="flex items-center gap-4">
      {showSearch && (
        <button aria-label="Search" class="text-theme-muted hover:text-theme-foreground transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
        </button>
      )}
      {showCart && (
        <a href="/cart" aria-label="Cart" class="text-theme-muted hover:text-theme-foreground transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
          </svg>
        </a>
      )}

      <!-- Mobile menu toggle -->
      <button id="mobile-menu-btn" aria-label="Menu" class="md:hidden text-theme-foreground">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </nav>

  <!-- Mobile Navigation -->
  <div id="mobile-menu" class="hidden md:hidden border-t border-theme">
    <nav class="page-container py-4 flex flex-col gap-3">
      {navigationLinks.map((link) => (
        <a
          href={link.href}
          class="text-sm text-theme-muted hover:text-theme-foreground transition-colors py-1"
        >
          {link.label}
        </a>
      ))}
    </nav>
  </div>
</header>

<script>
  const btn = document.getElementById('mobile-menu-btn');
  const menu = document.getElementById('mobile-menu');
  if (btn && menu) {
    btn.addEventListener('click', () => menu.classList.toggle('hidden'));
  }
</script>

---
interface Props {
  heading?: { text?: string; size?: 'small' | 'medium' | 'large' };
  text?: { content?: string; size?: 'small' | 'medium' | 'large' };
  form?: { placeholder?: string; buttonText?: string };
  colorScheme?: string;
  padding?: { top?: number; bottom?: number };
}

const { heading, text, form, padding } = Astro.props;
const headingText = heading?.text ?? 'Подпишитесь на нашу рассылку';
const headingSize = heading?.size ?? 'small';
const textContent = text?.content ?? '';
const placeholder = form?.placeholder ?? 'email@example.com';
const buttonText = form?.buttonText ?? 'Подписаться';
const padTop = padding?.top ?? 80;
const padBottom = padding?.bottom ?? 80;

const headingSizeClasses: Record<string, string> = {
  small: 'text-2xl',
  medium: 'text-[2rem]',
  large: 'text-[2.5rem]',
};
const headingSizeClass = headingSizeClasses[headingSize] || headingSizeClasses.small;
---

<section
  class="bg-gray-50 text-center px-5"
  style={`padding-top: ${padTop}px; padding-bottom: ${padBottom}px;`}
>
  <div class="max-w-[600px] mx-auto">
    <h2 class={`${headingSizeClass} font-medium text-gray-900 mb-4 leading-[1.2] font-comfortaa`}>
      {headingText}
    </h2>
    {textContent && (
      <p class="text-[1.1rem] text-gray-600 mb-8 leading-[1.6] font-manrope">
        {textContent}
      </p>
    )}
    <form class="flex gap-3 max-w-[480px] mx-auto max-[480px]:flex-col" action="#" method="POST">
      <input
        type="email"
        name="email"
        placeholder={placeholder}
        required
        class="flex-1 py-3.5 px-4 text-base border border-gray-300 rounded-lg bg-white text-gray-900 font-manrope focus:outline-none focus:border-black"
      />
      <button
        type="submit"
        class="py-3.5 px-7 text-[0.95rem] font-medium border-none rounded-lg bg-black text-white cursor-pointer transition-colors hover:bg-gray-800 font-manrope whitespace-nowrap"
      >
        {buttonText}
      </button>
    </form>
  </div>
</section>
